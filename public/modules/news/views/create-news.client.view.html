<script src="/public/lib/ng-file-upload.js"></script>

<section data-ng-controller="NewsController" class="contribute-style">
    <div class="page-header">
        <h1>Création d'une news</h1>
    </div>

    <div data-ng-show="error" >
        <p class="bg-danger pad-15" data-ng-bind="error"></p>
    </div>
        
    <div class="col-md-12">

        <form class="form-horizontal" data-ng-submit="create()" enctype="multipart/form-data" novalidate>
            <fieldset>
                <div class="form-group">
                    <label class="control-label" for="titre">Titre</label>
                    <div class="controls">
                        <input type="text" data-ng-model="titre" id="titre" class="form-control" placeholder="Titre" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="texte">Texte</label>
                    <div class="controls">
                        <textarea name="texte" data-ng-model="texte" id="texte" class="form-control" cols="30" rows="10" placeholder="Texte"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="image">Image</label>

                    <div class="row">

                        <div class="col-md-2">
                            <div class="btn btn-default" ngf-select ng-model="image" ngf-multiple="false">Sélectionner un fichier</div>
                        </div>

                        <div class="col-md-4 pad-top-7">
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{progress}}%;">
                                    <span class="sr-only">{{progress}}% Complete</span>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-3">
                            <input type="hidden" data-ng-model="image.relativePath" id="image.relativePath" class="form-control" />
                            <img ngf-src="image.relativePath" class="thumb">
                        </div>

                    </div>

                </div>

                <div class="form-group">
                    <label class="control-label" for="titre">Vidéo</label>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="controls">
                                <input type="text" data-ng-model="video.link" id="video.link" class="form-control" placeholder="Lien vidéo" />
                            </div>
                        </div>
                    </div>
                    <!-- <div ng-if="video.link != null">
                        <iframe id="ytplayer" type="text/html" width="720" height="405"
                            ng-src="{{video.link}}"
                            frameborder="0" allowfullscreen>
                    </div> -->
                </div>

                <div class="form-group checkbox">
                    <label>
                        <input type="checkbox" data-ng-model="publie" id="publie" /> Publier cette news
                    </label>
                </div>

                <div class="form-group pad-top-20">
                    <input type="submit" class="btn btn-primary">
                </div>

            </fieldset>
        </form>
    </div>
</section>